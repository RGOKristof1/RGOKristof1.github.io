<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>NFC Tartalom</title>
</head>
<body>
  <h2>Tartalom</h2>
  <div id="output">Betöltés...</div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    const output = document.getElementById("output");

    if (!id) {
      output.innerText = "Nincs ID megadva az URL-ben!";
    } else {
      // Itt használd a saját Gist RAW URL-ed!
      const gistUrl = `https://gist.githubusercontent.com/RGOKristof1/2c5d42fd93a81ec543fee7762100f308/raw/5bb39c999557b17d302168d70aa0a3a8cc9a4241/data.json?${Date.now()}`;

      fetch(gistUrl)
        .then(res => res.json())
        .then(data => {
          if (data[id]) {
            let html = "";

            if (data[id].text) html += `<p>${data[id].text}</p>`;
            if (data[id].image) html += `<img src="${data[id].image}" style="max-width:300px;">`;

            output.innerHTML = html;
          } else {
            output.innerText = "Nincs tartalom ehhez az ID-hez.";
          }
        })
        .catch(err => {
          output.innerText = "Nem sikerült betölteni az adatokat.";
          console.error(err);
        });
    }
  </script>
</body>
</html>
